<html>
	<head>
		<meta charset="utf-8">
	</head>
	<body>
		<section class="content-header">
			<h1>{{breadCrumbs.servicio}}</h1>
			<ol class="breadcrumb">
				<li>
					<a><i class="{{breadCrumbs.icono}}"></i>{{breadCrumbs.modulo}} </a>
				</li>
				<li class="active">{{breadCrumbs.servicio}}</li>
			</ol>
		</section>
    
		<section class="content">
			<div class="row">
				<!-- SECCION PARAMETROS DE BÚSQUEDA -->
				<div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">
					<div class="box box-danger">
						 <form name="formUpload" role="form" novalidate>     				 
							<div class="box-header with-border ">
								
								<div class="col-xs-12 col-sm-4 col-sm-offset-4 col-md-4 col-md-offset-4 text-center">
									<h3 class="box-title">Importar Archivo</h3>
								</div>

								<div class="box-tools pull-right">
									<button class="btn btn-box-tool" type="button" id="btnAlmacen" data-widget="collapse">
										<i class="fa fa-minus"></i>
									</button>
								</div>
								
							</div>
							<div class="box-body">
								<div class="row centerCol">
									<div class="col-xs-8 col-sm-8 col-md-8">
										<div class="form-group">
											<div class="ngOnlyEnter">
												<div class="input-group">
													<div class="input-group-addon">
														<i class="fa fa-file-excel-o" aria-hidden="true"></i>
													</div>
													<input type="text" class="form-control inputFile" name="fileUploadTxt" 
														ng-required="true" 
														ng-disabled="true"
														ng-model="filesVO.fileUpload.name" />
													<div class="input-group-btn">
														<input id="fileUpload" type="file" name="fileUploadTxt" custom-on-change 
															handler="getFilesFromInput(params)" ng-show="false"/>
														<label for="fileUpload" class="btn btn-danger"
															tooltip="Examinar" tooltip-placement="right">
															  <i class="fa fa-upload"></i>
														</label>
													</div>
												</div>
											</div>
										</div>
									</div>
									<div class="col-md-4">
										<div class="col-md-6">
											<button  class="btn btn-danger" ng-click="resetFile()"
												ng-disabled="filesVO.fileUpload == undefined">
												Cancelar
											</button>
										</div>
										<div class="col-md-6">
											<button  class="btn btn-danger" ng-click="uploadFileService(formUpload)">
												Cargar
											</button>
										</div>
									</div>
								</div>
							</div>
						 </form>
					</div>
				</div>
			</div>
			<!-- SECCION PARAMETROS DE BÚSQUEDA -->
			<!-- SECCION PARA TABLA DE RESULTADOS -->
			<div class="row centerCol">
				<div class="col-xs-12 col-sm-12 col-md-12" ng-if="filesVO.listFileUploaded.length > 0">
					<div class="box box-danger">
						<div class="box-header with-border">
							<div class="row">
								<div class="col-xs-5 col-md-3">
									<h3 class="box-title">
										Registros Encontrados: <span>{{ (filesVO.listFileUploaded | filter:view.filter).length }}</span>
									</h3>
								</div>
								<div class=" col-xs-1 col-md-3">
								</div>
								<div class="col-xs-4 col-md-3">
									<div class="form-group">
                           				<div class="input-group">
                               				<input id="searchsomething" type="text" class="form-control" placeholder="Buscar por filtro" 
                               					ng-model="view.filter">
                               				<span class="input-group-addon"><i class="fa fa-search"></i></span>
                           				</div>
	                				</div>
								</div>
								<div class="col-xs-2 col-md-3 pull-right" id="eventRefresh">
			                        <div class="form-group">
			                            <div class="input-group">
			                                <select class="form-control" select2 id="selectTimeRefresh" 
			                                	data-minimum-results-for-search="Infinity" 
			                                	ng-model="filesVO.selectTimeRefresh" ng-change="cambiaTiempo()" 
			                                	ng-options="sws as sws.nbTimeRefresh for sws in filesVO.selectListTimeRefresh track by sws.idTimeRefresh">
			                                        <option value="" selected>Sin Refrescar</option>
			                                    </select>
			                                <div class="input-group-addon iconoBus" ng-click="refrescar()">
			                                    <span class="fa fa-refresh" aria-hidden="true" style="cursor: pointer;"></span>
			                                </div>
			                            </div>
			                        </div>
			                    </div>
							</div>
						</div>
						
						<div class="box-body table-responsive no-padding">
							<table id="fhNoLabTable" class="table table-striped table-xs table-sm table-hover header-fixed table-exp-resp">
								<thead>
									<tr>
										<th sort order="'nbArchivoFinal'" by="order" reverse="reverse" class="wrap-text">NOMBRE</th>
										<th sort order="'nbStSeguimiento'" by="order" reverse="reverse" class="wrap-text">ESTATUS</th>
										<th sort order="'fhCreacion'" by="order" reverse="reverse" class="wrap-text">FECHA</th>
									</tr>
								</thead>
								<tbody>
									<tr dir-paginate="file in filesVO.listFileUploaded | filter: view.filter | orderBy:order:reverse | itemsPerPage: view.rowsPerPage"
										pagination-id="filesAdd">
										<td class="center">
											<span>{{file.nbArchivoFinal}}</span>
										</td>		                    	
										<td class="center">
										<!-- <span style="background-color:{{file.cdColor}} !important;
                                               	color:#FFFFFF !important;"> -->
											<span>
												{{file.nbStSeguimiento}}
											</span>
										</td>
										<td class="center">
											<span>{{file.fhCreacion | date : "dd/MM/yyyy hh:mm:ss a" }}</span>
										</td>
									</tr>
									<tr ng-if="(filesVO.listFileUploaded | filter:view.filter).length == 0 || filesVO.listFileUploaded.length == 0">
                        				<td colspan="5" class="text-center">
                            				<h4>{{filesVO.listFileUploaded.length == 0 ? 'No se encontraron registros' : 'No se encontraron coincidencias'}}</h4>
                        				</td>
                    				</tr>
								</tbody>
							</table>
						</div>
						<div class="container-fluid">
                            <div class="fixed-table-pagination" style="display: block;">
                                <rows-per-page rows="view.rowsPerPage"  array="filesVO.listFileUploaded"></rows-per-page>
                                <div class="pull-right pagination">
                                    <dir-pagination-controls class="pagination" pagination-id="filesAdd"></dir-pagination-controls>
                                </div>
                            </div>
                        </div>
					</div>
				</div>
			</div>
		</section>
	</body>
</html>