<style>
</style>

<div class="row centerBox">
    <div class="col-xs-10 col-md-10">
        <div class="box box-danger">
            <div class="box-header with-border text-center">
                <h3 class="box-title">{{'ENCUESTA.Consulta.paramBusqueda' | translate}}</h3>
                <div class="box-tools pull-right">
                    <button id="x" type="button" class="btn btn-box-tool"
                        data-widget="collapse">
                        <i class="fa fa-minus"></i>
                    </button>
                </div>
            </div>
            <div class="box-body">
                <!-- PARAMETROS DE BÃƒÂ¯Ã‚Â¿Ã‚Â½SQUEDA -->
                <div class="row">
                    <div class="col-xs-12 col-md-4">
                        <div class="form-group" ng-class="{ 'has-error' : busquedaForm.comboTipoBusqueda.$invalid && !busquedaForm.comboTipoBusqueda.$pristine }">
                            <label for="tipoBusqueda">{{'ENCUESTA.Consulta.paramBusquedaForm.tipoBusqueda.label' | translate}}:</label>
                            <div class="input-group">
                                <div class="input-group-addon">
                                    <i class="fa fa-flask"></i>
                                </div>
                                <select class="form-control select2" 
                                    name="comboTipoBusqueda" id="comboTipoBusqueda"
                                    ng-options="x.idTipo as x.nbTipo for x in listTipoBusqueda.tipoBusqueda"
                                    ng-model="parametroBusqueda.tipoBusqueda" ng-required="true">
									<!-- <option value="">{{'APP.Base.mensaje.seleccioneOpcion' | translate}}</option> -->
									<!-- select2 -->
                                </select>
                            </div>
                            <p ng-show="busquedaForm.comboTipoBusqueda.$invalid && !busquedaForm.comboTipoBusqueda.$pristine"
                                class="help-block">{{'ENCUESTA.Consulta.paramBusquedaForm.tipoBusqueda.validacion' | translate}}</p>
                        </div>
                    </div>

                    <div class="col-xs-12 col-md-4">
                        <div class="form-group"
                            ng-class="{ 'has-error' : busquedaForm.valor.$invalid && !busquedaForm.valor.$pristine }">
                            <div align="left">
                                <label for="valor">*{{'ENCUESTA.Consulta.paramBusquedaForm.valor.label' | translate}}:</label>
                            </div>
                            <div class="input-group">
                                <span class="input-group-addon">
                                	<i class="fa fa-shield"></i>
                                </span> 
                                <input type="text" maxlength="20"
                                    ng-model="parametroBusqueda.valor" name="valor" id="valor"
                                    class="form-control" ng-required="true">
                            </div>
                            <p ng-show="busquedaForm.valor.$invalid && !busquedaForm.valor.$pristine"
                                class="help-block">{{'ENCUESTA.Consulta.paramBusquedaForm.valor.validacion' | translate}}</p>
                        </div>
                    </div>
                    
                    <div class="col-xs-12 col-md-4">
                        <div class="form-group"
                            ng-class="{ 'has-error' : busquedaForm.pass.$invalid && !busquedaForm.pass.$pristine }">
                            <div align="left">
                                <label for="valor">*{{'ENCUESTA.Consulta.paramBusquedaForm.contrasena.label' | translate}}:</label>
                            </div>
                            <div class="input-group">
                                <span class="input-group-addon"> 
                                    <i class="fa fa-shield"></i>
                                </span>
                                <input maxlength="10" type="password" maxlength="10" ng-model="parametroBusqueda.pass" 
                                    name="pass" id="pass" class="form-control" ng-required="true">
                            </div>
                            <p ng-show="busquedaForm.pass.$invalid && !busquedaForm.pass.$pristine"
                                class="help-block">{{'ENCUESTA.Consulta.paramBusquedaForm.contrasena.validacion' | translate}}</p>
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-12 col-xs-12">
                        <div class="col-md-1 col-xs-1" align="right"></div>
                        <div class="col-md-10 col-xs-10" align="center">
                            <button type="button" class="btn btn-danger" ng-click="buscarOrden(parametroBusqueda,busquedaForm)"
                                tooltip="Buscar Encuesta">
                                {{'APP.Base.boton.buscar' | translate}}
                            </button>
                        </div>
                        <div class="col-md-1 col-xs-1 box-tools pull-right">
							<button type="button" class="btn btn-box-tool btn-danger" ng-click="limpiarCampos()" style="font-size: 1.2rem;"
								data-toggle="tooltip" data-placement="right" title="Limpiar Campos">
								<i class="fa fa-undo"></i>
							</button>
						</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--Inicia tabla de resultados-->
<section class="col-md-12" ng-if="listOrden.length>0">
    <div class="row">
        <div class="col-md-12">
            <div class="box box-danger">
                <div class="box-body">
                    <div class="row centerBox">
                        <div> 
                            <div class="box-header col-md-12">
                                <div class="col-md-4 col-xs-12">
                                    <h3 class="box-title">
                                        Registros Encontrados: <span>{{ (listOrden | filter:general.filter).length }}</span>
                                    </h3>
                                </div>
                                <div class="col-md-7 form-group">
                                    <div class="row">
                                        <div class="col-md-offset-4 col-md-8 col-xs-8">
                                            <div class="input-group">
                                                <input id="searchsomething" type="text"
                                                    class="form-control ng-pristine ng-untouched ng-valid ng-empty"
                                                    placeholder="Buscar por filtro" ng-model="general.filter">
                                                <span class="input-group-addon">
                                                    <i class="fa fa-search"></i>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="box-body table-responsive no-padding">
                                <div class="col-md-12 col-xs-12">
                                    <table id="myTable" class="table table-hover header-fixed">
                                        <thead>
                                            <tr>
                                                <th class="wrap-text" sort order="'estatus'" by="order" reverse="reverse" width="17%" colspan="2">ESTATUS</th>
                                                <th class="wrap-text" sort order="'placa'" by="order" reverse="reverse" width="17%">PLACA VEHÍCULAR</th>
                                                <th class="wrap-text" sort order="'ordenServicio'" by="order" reverse="reverse" width="17%">ORDEN DE SERVICIO</th>
                                                <th class="wrap-text" sort order="'fInicio'" by="order" reverse="reverse" width="17%">FECHA INICIO</th>
                                                <th class="wrap-text" sort order="'cuestionario'" by="order" reverse="reverse" width="17%">CUESTIONARIO</th>
                                                <th class="wrap-text" sort order="'cuestionario'" by="order" reverse="reverse" width="15%">PROCESO</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr dir-paginate="ordenVO in listOrden | filter:general.filter | orderBy:order:reverse | itemsPerPage: view.rowsPerPage"
                                            	ng-click="accionPorRow(ordenVO.intentoMostrar.stEncuesta.cdStEncuesta,ordenVO.ordenServicio.idOrdenServicio,ordenVO.encuesta,ordenVO.intentoMostrar.idUsuEncuIntento)"
                                            	style="cursor: pointer;">
                                                <td class="center" style="width: 8px; height: 100%; vertical-align: middle;">
                                                    <span class="etiquetaCancelado" 
                                                        style="background-color: {{ordenVO.intentoMostrar.stEncuesta.cdColor}}; min-height: 40px; height: 100%;"
                                                        data-toggle="tooltip" data-placement="top" title="{{ordenVO.intentoMostrar.stEncuesta.nbStEncuesta}}">
                                                    </span>
                                                </td>
                                                <td class="center" style="vertical-align: middle;" width="16%">
                                                	<div class="col-md-offset-2 col-md-8 col-xs-12" 
                                                		data-toggle="tooltip" data-placement="bottom" title="{{ordenVO.intentoMostrar.stEncuesta.nbStEncuesta}}">
	                                                    <span class="etiquetaCancelado fullWidth"
	                                                    	ng-if="ordenVO.intentoMostrar.stEncuesta.cdStEncuesta == 'NI'" 
	                                                        style="cursor: pointer; background-color: {{ordenVO.intentoMostrar.stEncuesta.cdColor}};" >
	                                                       	<b>INICIAR</b>
	                                                    </span>
	                                                    <span class="etiquetaCancelado fullWidth"
	                                                    	ng-if="ordenVO.intentoMostrar.stEncuesta.cdStEncuesta == 'EC'" 
	                                                        style="cursor: pointer; background-color: {{ordenVO.intentoMostrar.stEncuesta.cdColor}};">
	                                                        <b>REANUDAR</b>
	                                                    </span>
	                                                    <span ng-if="ordenVO.intentoMostrar.stEncuesta.cdStEncuesta == 'FIN'" 
	                                                    	class="etiquetaCancelado fullWidth" 
	                                                        style="background-color: {{ordenVO.intentoMostrar.stEncuesta.cdColor}};">
	                                                        <b>FINALIZADA</b>
	                                                    </span>
                                                    </div>
                                                </td>
                                                <td class="center" style="vertical-align: middle;" width="20%">
                                                    {{ordenVO.ordenServicio.vehiculo.cdPlacaVehiculo}}
                                                </td>
                                                <td class="center" style="vertical-align: middle;" width="20%">
                                                    {{ordenVO.ordenServicio.cdOrdenServicio}}
                                                </td>
                                                <td class="center" style="vertical-align: middle;" width="20%">
                                                    {{ordenVO.intentoMostrar.fhInicio|date:'dd-MM-yyyy'}}
                                                </td>
                                                <td class="center" style="vertical-align: middle;" width="20%">
                                                    {{ordenVO.encuesta.txEncuesta}}
                                                </td>
                                                <td class="center" style="vertical-align: middle;" width="20%">
                                                    {{ordenVO.ordenServicio.proceso.txProceso}}
                                                </td>
                                            </tr>
                                            <tr ng-if="(listOrden | filter:general.filter).length < 1">
                                                <td colspan="5" class="text-center">
                                                    <h4>No se encontraron coincidencias</h4>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="container-fluid">
                                <div class="fixed-table-pagination" style="display: block;">
                                    <rows-per-page rows="view.rowsPerPage" filtro="general.filter" array="listOrden"></rows-per-page>
                                    <div class="pull-right pagination">
                                        <dir-pagination-controls class="pagination"></dir-pagination-controls>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!---->
<div class="col-md-8">
    <a type="button" href="#/" class="btn btn-danger btn-lg pull-left ">
        <i class="fa fa-arrow-circle-left"></i> 
<!--         {{'APP.Base.boton.iniciarSesion' | translate}} -->
		Salir
    </a>
</div>

